{"version":3,"sources":["../src/app.js"],"names":["PORT","process","env","app","use","bodyParser","json","urlencoded","extended","text","type","express","static","isProduction","NODE_ENV","get","req","res","sendFile","path","resolve","router","next","err","Error","status","console","log","stack","errors","message","error","listen"],"mappings":";;;;;;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;AAPA;AASA;AAEA,MAAMA,IAAI,GAAGC,OAAO,CAACC,GAAR,CAAYF,IAAZ,IAAoB,IAAjC,C,CACA;;AACA,MAAMG,GAAG,GAAG,uBAAZ,C,CAEA;;AACAA,GAAG,CAACC,GAAJ,CAAQ,oBAAR;AACAD,GAAG,CAACC,GAAJ,CAAQC,oBAAWC,IAAX,EAAR;AACAH,GAAG,CAACC,GAAJ,CAAQC,oBAAWE,UAAX,CAAsB;AAAEC,EAAAA,QAAQ,EAAE;AAAZ,CAAtB,CAAR;AACAL,GAAG,CAACC,GAAJ,CAAQC,oBAAWI,IAAX,EAAR;AACAN,GAAG,CAACC,GAAJ,CAAQC,oBAAWC,IAAX,CAAgB;AAAEI,EAAAA,IAAI,EAAE;AAAR,CAAhB,CAAR;AACAP,GAAG,CAACC,GAAJ,CAAQO,iBAAQC,MAAR,CAAe,QAAf,CAAR;AACAT,GAAG,CAACC,GAAJ,CAAQ,4BAAR;AAEA,MAAMS,YAAY,GAAGZ,OAAO,CAACC,GAAR,CAAYY,QAAZ,KAAyB,YAA9C,C,CACA;;AACAX,GAAG,CAACY,GAAJ,CAAQ,GAAR,EAAa,CAACC,GAAD,EAAMC,GAAN,KAAc;AACzBA,EAAAA,GAAG,CAACC,QAAJ,CAAaC,cAAKC,OAAL,CAAa,mBAAb,CAAb;AACD,CAFD;AAIAjB,GAAG,CAACC,GAAJ,CAAQ,UAAR,EAAoBiB,eAApB,E,CAEA;;AACAlB,GAAG,CAACC,GAAJ,CAAQ,CAACY,GAAD,EAAMC,GAAN,EAAWK,IAAX,KAAoB;AAC1B,QAAMC,GAAG,GAAG,IAAIC,KAAJ,CAAU,WAAV,CAAZ;AACAD,EAAAA,GAAG,CAACE,MAAJ,GAAa,GAAb;AACAH,EAAAA,IAAI,CAACC,GAAD,CAAJ;AACD,CAJD,E,CAMA;AACA;;AACA,IAAI,CAACV,YAAL,EAAmB;AACjBV,EAAAA,GAAG,CAACC,GAAJ,CAAQ,CAACmB,GAAD,EAAMP,GAAN,EAAWC,GAAX,EAAgBK,IAAhB,KAAyB;AAC/B;AACAI,IAAAA,OAAO,CAACC,GAAR,CAAYJ,GAAG,CAACK,KAAhB;AACAX,IAAAA,GAAG,CAACQ,MAAJ,CAAWF,GAAG,CAACE,MAAJ,IAAc,GAAzB,EAA8BnB,IAA9B,CAAmC;AACjCuB,MAAAA,MAAM,EAAE;AACNC,QAAAA,OAAO,EAAEP,GAAG,CAACO,OADP;AAENC,QAAAA,KAAK,EAAER;AAFD;AADyB,KAAnC;AAMD,GATD;AAUD,C,CAED;AACA;;;AACApB,GAAG,CAACC,GAAJ,CAAQ,CAACmB,GAAD,EAAMP,GAAN,EAAWC,GAAX,EAAgBK,IAAhB,KAAyB;AAC/BL,EAAAA,GAAG,CAACQ,MAAJ,CAAWF,GAAG,CAACE,MAAJ,IAAc,GAAzB,EAA8BnB,IAA9B,CAAmC;AACjCuB,IAAAA,MAAM,EAAE;AACNC,MAAAA,OAAO,EAAEP,GAAG,CAACO,OADP;AAENC,MAAAA,KAAK,EAAE;AAFD;AADyB,GAAnC;AAMD,CAPD;AAUA5B,GAAG,CAAC6B,MAAJ,CAAWhC,IAAX,EAAiB,MAAM;AACrB0B,EAAAA,OAAO,CAACC,GAAR,CAAa,0BAAyB3B,IAAK,EAA3C;AACD,CAFD;eAIeG,G","sourcesContent":["/* eslint-disable no-unused-vars */\nimport { config } from 'dotenv';\nimport express from 'express';\nimport bodyParser from 'body-parser';\nimport cookieParser from 'cookie-parser';\nimport path from 'path';\nimport cors from 'cors';\nimport router from './routes';\n\nconfig();\n\nconst PORT = process.env.PORT || 5000;\n// Create global app object\nconst app = express();\n\n// Normal express config defaults\napp.use(cors());\napp.use(bodyParser.json());\napp.use(bodyParser.urlencoded({ extended: false }));\napp.use(bodyParser.text());\napp.use(bodyParser.json({ type: 'application/json' }));\napp.use(express.static('./docs'));\napp.use(cookieParser());\n\nconst isProduction = process.env.NODE_ENV === 'production';\n// base route response\napp.get('/', (req, res) => {\n  res.sendFile(path.resolve('./docs/index.html'));\n});\n\napp.use('/api/v1/', router);\n\n// catch 404 and forward to error handler\napp.use((req, res, next) => {\n  const err = new Error('Not Found');\n  err.status = 404;\n  next(err);\n});\n\n// development error handler\n// will print stacktrace\nif (!isProduction) {\n  app.use((err, req, res, next) => {\n    // eslint-disable-next-line no-console\n    console.log(err.stack);\n    res.status(err.status || 500).json({\n      errors: {\n        message: err.message,\n        error: err,\n      },\n    });\n  });\n}\n\n// production error handler\n// no stacktraces leaked to user\napp.use((err, req, res, next) => {\n  res.status(err.status || 500).json({\n    errors: {\n      message: err.message,\n      error: {},\n    },\n  });\n});\n\n\napp.listen(PORT, () => {\n  console.log(`server running on port ${PORT}`);\n});\n\nexport default app;\n"],"file":"app.js"}